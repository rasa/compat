name: test-all

on:
  workflow_call:
  workflow_dispatch:

permissions:
  contents: read

jobs:
  test-tinygo:
    uses: ./.github/workflows/test-tinygo.yml
    secrets: inherit
  test-all-wasms:
    uses: ./.github/workflows/test-all-wasms.yml
    needs: test-tinygo
    # if: success()
    secrets: inherit
  test-all-bsds:
    uses: ./.github/workflows/test-all-bsds.yml
    needs: test-all-wasms
    # if: success()
    secrets: inherit
  test-all-solaria:
    uses: ./.github/workflows/test-all-solaria.yml
    needs: test-all-bsds
    # if: success()
    secrets: inherit
